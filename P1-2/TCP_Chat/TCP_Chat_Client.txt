import java.io.*;
import java.net.*;
import java.net.InetAddress;
import java.net.Socket;

public class TCP_Chat_Client 
{
   
    public static void main(String[] args) 
    {
        try
        {
            
            /*To establish Connection*/
            int port = 7777;
            InetAddress addr = InetAddress.getLocalHost();
            Socket s = new Socket(addr, port);
            System.out.println("Connection is Done...");
          
            
            while(true)
            {
                /*To take input from User*/
                BufferedReader br1 = new BufferedReader(new InputStreamReader(System.in));
                System.out.println("Enter Test:");
                String ctext = br1.readLine();

                /*To send message to server*/
                PrintWriter pw = new PrintWriter(new OutputStreamWriter(s.getOutputStream()));
                pw.println(ctext);
                pw.flush();

                if(ctext.equalsIgnoreCase("bye"))
                {
                    System.exit(0);
                }

                BufferedReader br2 = new BufferedReader(new InputStreamReader(s.getInputStream()));
                String stext = br2.readLine();
                System.out.println("Server Text:"+ stext);
            }
        }
        catch(Exception e)
        {
            System.out.println("Error"+e);
        }
    }  
}
